(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{430:function(t,a,e){t.exports=e.p+"assets/img/queryTable.44d2234c.png"},431:function(t,a,e){t.exports=e.p+"assets/img/form.9ac1e5eb.png"},437:function(t,a,e){"use strict";e.r(a);var s=e(27),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("p",[t._v("y-for-table 是服务于vue生态中后台应用的解决方案，table查询式列表和表单是中后台领域的最常见场景：")]),t._v(" "),s("h4",{attrs:{id:"查询式table的组成："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询式table的组成："}},[t._v("#")]),t._v(" 查询式table的组成：")]),t._v(" "),s("ul",[s("li",[t._v("queryForm 用来设置查询条件的表单")]),t._v(" "),s("li",[t._v("table 用来展示列表数据的组件")]),t._v(" "),s("li",[t._v("Pagination 用来设置分页条件的组件")])]),t._v(" "),s("p",[t._v("那么三者之间的关系如下\n"),s("img",{attrs:{src:e(430),alt:"Image from alias"}})]),t._v(" "),s("p",[t._v("queryForm、Pagination产生查询列表的接口的查询条件，接口执行到服务端获取用于Table组件消费的list数据， 同时Pagination 需要数据总条数 total用于处理分页页码展示；")]),t._v(" "),s("p",[t._v("不论三个组件使用哪套UI库，关系大概就是这样，所以y-for-table内置的YQueryTable组件就是为了简化 查询式Table展示的场景，当然也不仅限于Table，只要是list展示都可以处理。")]),t._v(" "),s("h4",{attrs:{id:"vue-form"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-form"}},[t._v("#")]),t._v(" vue form")]),t._v(" "),s("p",[t._v("vue 提供了非常便捷的指令 "),s("code",[t._v("v-model")]),t._v(", 似乎开发vue的form比起react那一套要简洁不少。那么我们面临的业务表单往往不仅仅是"),s("code",[t._v("v-model")]),t._v("这么简单：")]),t._v(" "),s("ul",[s("li",[t._v("多字段联动")]),t._v(" "),s("li",[t._v("校验规则联动")]),t._v(" "),s("li",[t._v("动态增减项")])]),t._v(" "),s("p",[t._v("以上3种往往是我们开发中最常见的场景，vue的template模板不能完全发挥出js的编程能力，往往我们采用的是表达式之外的放到methods中声明处理，一旦表单字段较多较复杂时，代码量变大，一个字段的处理要分散到多个method，难以维护。")]),t._v(" "),s("p",[t._v("y-for-table 内置YForm、YField,能够简化表单开发。YForm的方式：字段值处理将不再\n交给字段的"),s("code",[t._v("v-model")]),t._v("来维护，统一将值的处理权交给Form层")]),t._v(" "),s("p",[s("img",{attrs:{src:e(431),alt:"Image from alias"}})]),t._v(" "),s("p",[t._v("为了得到js的完全编程能力，YForm采用了vue 的jsx方式实现，使用vue内置的Provider、inject就可以很简单达到 跨dom层级与Field、表单控件的通讯能力;但是jsx写法是没有"),s("code",[t._v("v-")]),t._v("之类的指令能够使用的，我们采用了vue版本的hoc来拦截处理表单控件的"),s("code",[t._v("value")]),t._v("、"),s("code",[t._v("onInput")]),t._v("值和事件，就完全达到了将表单值交给Form层管理")]),t._v(" "),s("p",[t._v("第三方UI库的 表单控件都设计有"),s("code",[t._v("v-model")]),t._v("，所以可以无缝接入，第三方库表单控件的 api也会直接透传到 YField的component层，写法如下")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[t._v("import { Input } from 'element-ui'\n\nexport default {\n  data() {\n    return {\n      formValues: {\n        goodsName\n      }\n    }\n  },\n  render(h) {\n    return (\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("YForm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("{this.formValues}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("YField")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("goodsName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("{Input}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("disabled")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("clearable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("YForm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    )\n  }\n}\n\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);